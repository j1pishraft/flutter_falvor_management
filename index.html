<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Flavor and Environment Management</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
</head>
<body>
<main>
    <h1>Welcome to Flutter Flavor Management Page</h1>
</main>
<p>In Flutter:<br>
    <br>
    <b>Flavor:</b><br>
    <br>
    A "flavor" refers to a variation or version of an application that is tailored for specific use
    cases, audiences, or environments.
    Flavors are created by defining different configurations, such as API endpoints, app icons,
    branding, or features, for distinct instances of an app within the same codebase.
    Common use cases include developing different versions of an app (e.g., free and premium) or
    creating branded versions for different clients.<br>
    <br>
    <b>Environment:</b><br>
    <br>
    An "environment" in Flutter typically refers to the stage or context in which the application is
    running, such as development, staging, or production.
    Different environments have specific configurations (e.g., debug modes, API endpoints) that are
    essential for testing and deploying applications without modifying the source code.
    Environments help manage settings and behavior variations across development, testing, and
    production stages.<br>
    <br>
    In summary, flavors are used for creating different versions of an app with unique
    configurations, while environments are used to manage various stages of application development
    by adjusting settings and behaviors. Together, flavors and environments enhance the flexibility,
    maintainability, and scalability of Flutter applications.</p><br>
<br>
<p><b>**Note 1**:</b> having only environment doesn't allow you to have same app with different
    icon,
    name and identifier. For that you also need to setup flavor for your project.</p><br>
<p><b>**Note 2**:</b> Usually for environments you can create app_config.json to keep sensitive or
    environment-specific configuration outside your codebase (never pushed to any repo, it is
    saved on local machine or pushed by CI/CD pipeline tools during app deployment) and easily
    switch between configurations for different environments (development, staging,
    production) by modifying the app_config.json file.</p><br>

<p><b>Steps to create Environments</b><br></p>
<p><b>1. Create enum for your Environment </b><br></p>
<p>In your project directory create a file called app_env.dart to create class "Environment"</p><br>
<img src="./images/app_environment_enum.png" alt="app_env_enum"><br>
<br>

<p><b>2. Create main files </b><br></p>
<p>make a copy of main file and rename them based on how many environment you have<br></p>
<p>In my case I have two environments, dev and prod so I need to have 3 main file, one for dev, one
    for prod and on main_common.dart<br></p>

<img src="./images/rename_main_screen_shot.png" alt="rename_main_screen_shot"><br>

<p><b>3. Edit main files accordingly </b><br></p>
<p>Pass the environment variable to your mainCommon.dart<br></p>
<img src="./images/main_common.png" alt="main_common"><br>
<img src="./images/main_dev.png" alt="main_dev"><br>
<img src="./images/main_prod.png" alt="main_prod"><br>

<p><b>4.1. app_config.jason and config reader </b><br></p>
<p>As I mentioned earlier you might need to have have app_config.jason to keep your configuration
    more secure if no you can skipp this step<br></p>
<p>4.1.1 Create app_config.json with your set of configuration and include its directory to your
    .gitIgnore file . <br></p>
<p>4.2.2 Create a class called ConfigReader to parse app_config file data.<br></p>
<img src="./images/app_config_json.png" alt="app_config_json"><br>
<img src="./images/gitignore.png" alt="gitignore"><br>
<img src="./images/config_reader.png" alt="config_reader"><br>


<p><b>4.2. flavor_config.dart file </b><br></p>
<p>Alternatively you might want to have your configuration setup in your code therefore you need to
    create a class called FlavorConfig.dart <br></p>
<p>This is Singleton class that is holding the configuration data during development lifecycle, so
    you can access its member data anywhere is your code<br></p>
<img src="./images/flavor_config.png" alt="flavor_config"><br>

<p><b>5. Initialise ConfigReader() and FlavorConfig in mainCommon.dart </b><br></p>
<img src="./images/initialise_config_classes.png" alt="initialise_config_classes"><br>

<p><b>6. All up to now was to setup environments </b><br></p>
<p>Now you should be ready to run your app using different Environments by<br></p>
<p>6.1 Writing "flutter run -t lib/main_dev.dart" for "dev" and "flutter run -t lib/main_prod.dart" for "prod" environment is your terminal<br></p>
<p>6.2 Creating new Run Configuration on your IDE for all your environments<br></p>
<img src="./images/run_config_ide.png" alt="run_config_ide"><br>

<p><b>**Note**:</b> Keep in mind, as mentioned earlier the app will install based on current
    configuration and will replace the older installed version with the same name, icon and bundle identifier</p><br>
<br>
</body>
</html>
